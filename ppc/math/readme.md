# Postfix
ppc, 150 points

> Я люблю математику. А ты? Покажи мне это!
> 
> `nc ppc.upmlctf.ru 5006`

*Hint* (-75): Посчитать значение выражения можно [вот так](https://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D0%B0%D1%8F_%D0%BF%D0%BE%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C#Вычисления_на_стеке)

## Write-up

Итак, нас просят решать сложные математические ребусы. Давайте попробуем. Первый: `5 12 +`. Что это за запись такая? Ладно, похоже на сложение, тут ответ 17. Второй: `7 4 + 5 *`. Вот тут уже совсем непонятно :(

Нужно было по названию или по самим примерам догадаться, что это обратная польская нотация, или так называемая *постфиксная запись выражений*. В ней операнды расположены перед операцией. [Вот тут об этом подробнее](https://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D0%B0%D1%8F_%D0%BF%D0%BE%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C).

Пробуем считать ручками. Начиная с 10-го выражения, нам уже не нравится вычислять `5 13 + 11 11 * 20 5 * * *`, а тут ещё выясняется, что есть лимит по времени — 1 минута.

Как её вычислять автоматически? Давай сделаем [стек](https://foxford.ru/wiki/informatika/stek) (массив, в который можно добавлять числа в конец и брать числа с конца) и обрабатывать слова поочередно. Если очередное «слово» — число, добавляем его в стек. Если операция — берем два верхних числа из стека, применяем операцию, и кладем результат обратно.

Конечно же, я оставлю [ссылку](exploit.py) на эксплойт.

Флаг: **uctfmysecretisinsidemath**